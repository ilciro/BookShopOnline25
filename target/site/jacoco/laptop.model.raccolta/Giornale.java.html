<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="it"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Giornale.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">BookShopOnline25 Maven Webapp</a> &gt; <a href="index.source.html" class="el_package">laptop.model.raccolta</a> &gt; <span class="el_source">Giornale.java</span></div><h1>Giornale.java</h1><pre class="source lang-java linenums">	package laptop.model.raccolta;

import java.awt.Desktop;
import java.io.*;
import java.time.LocalDate;
import java.util.ResourceBundle;
import java.util.logging.Level;
import java.util.logging.Logger;

import com.itextpdf.text.Document;
import com.itextpdf.text.DocumentException;
import com.itextpdf.text.Paragraph;
import com.itextpdf.text.pdf.PdfCopy;
import com.itextpdf.text.pdf.PdfReader;
import com.itextpdf.text.pdf.PdfWriter;
import laptop.exception.IdException;


	public class Giornale implements Raccolta, Serializable {
		@Serial
		private static final long serialVersionUID = 2L;

	private String  titolo;
	private String categoria;
	private String lingua;
	private String editore;
	private LocalDate dataPubb;
	private int copieRimanenti;
	private int disponibilita;
	private float prezzo;
	private int id;

<span class="fc" id="L33">	private final transient ResourceBundle rbTitoli=ResourceBundle.getBundle(&quot;configurations/titles&quot;);</span>
	private static final String TITOLOG=&quot;titolo13&quot;;
	private static final String DSTPATH=&quot;dstPath&quot;;

<span class="fc" id="L37">	private String[] infoGenerali=new String[6];</span>






	public Giornale()
	{
<span class="fc" id="L46">		super();</span>
<span class="fc" id="L47">	}</span>


	public Giornale(String []info,LocalDate dataPubb,int nrCopie, int disponibilita, float prezzo, int id)
<span class="fc" id="L51">	{</span>
<span class="fc" id="L52">		this.infoGenerali=info;</span>
<span class="fc" id="L53">		this.dataPubb=dataPubb;</span>
<span class="fc" id="L54">		this.copieRimanenti=nrCopie;</span>
<span class="fc" id="L55">		this.disponibilita=disponibilita;</span>
<span class="fc" id="L56">		this.prezzo=prezzo;</span>
<span class="fc" id="L57">		this.id=id;</span>
<span class="fc" id="L58">		this.titolo=info[0];</span>
<span class="fc" id="L59">		this.categoria=info[5];</span>
<span class="fc" id="L60">		this.editore=info[2];</span>
<span class="fc" id="L61">		this.lingua=info[4];</span>
		



<span class="fc" id="L66">	}</span>

	public String getTitolo() {
<span class="fc" id="L69">		return titolo;</span>
	}

	public void setTitolo(String titolo) {
<span class="fc" id="L73">		this.titolo = titolo;</span>
<span class="fc" id="L74">	}</span>



	public String getLingua() {
<span class="fc" id="L79">		return lingua;</span>
	}

	public void setLingua(String lingua) {
<span class="fc" id="L83">		this.lingua = lingua;</span>
<span class="fc" id="L84">	}</span>

	public String getEditore() {
<span class="fc" id="L87">		return editore;</span>
	}

	public void setEditore(String editore) {
<span class="fc" id="L91">		this.editore = editore;</span>
<span class="fc" id="L92">	}</span>

	public LocalDate getDataPubb() {
<span class="fc" id="L95">		return dataPubb;</span>
	}

	public void setDataPubb(LocalDate dataPubb) {
<span class="fc" id="L99">		this.dataPubb = dataPubb;</span>
<span class="fc" id="L100">	}</span>

	public int getCopieRimanenti() {
<span class="fc" id="L103">		return copieRimanenti;</span>
	}

	public void setCopieRimanenti(int copieRimanenti) {
<span class="fc" id="L107">		this.copieRimanenti = copieRimanenti;</span>
<span class="fc" id="L108">	}</span>

	public int getDisponibilita() {
<span class="fc" id="L111">		return this.disponibilita;</span>
	}

	public void setDisponibilita(int disponibilita) {
<span class="fc" id="L115">		this.disponibilita = disponibilita;</span>
<span class="fc" id="L116">	}</span>

	public float getPrezzo() {
<span class="fc" id="L119">		return prezzo;</span>
	}

	public void setPrezzo(float prezzo) {
<span class="fc" id="L123">		this.prezzo = prezzo;</span>
<span class="fc" id="L124">	}</span>


	public int getId() {
<span class="fc" id="L128">		return id;</span>
	}

	public void setId(int id) {
<span class="fc" id="L132">		this.id = id;</span>
<span class="fc" id="L133">	}</span>

	private void readPdf() {
		try {


<span class="fc" id="L139">			Document document = new Document();</span>

<span class="fc" id="L141">			PdfReader reader = new PdfReader(rbTitoli.getString(&quot;srcPath&quot;) + rbTitoli.getString(TITOLOG));</span>
<span class="fc" id="L142">			PdfCopy copy = new PdfCopy(document, new FileOutputStream(rbTitoli.getString(DSTPATH) + rbTitoli.getString(TITOLOG)));</span>
<span class="fc" id="L143">			document.open();</span>

<span class="fc" id="L145">			int pages = reader.getNumberOfPages();</span>
<span class="fc bfc" id="L146" title="All 2 branches covered.">			for (int i = 1; i &lt;= pages; i++) {</span>
<span class="fc" id="L147">				copy.addPage(copy.getImportedPage(reader, i));</span>

			}


<span class="fc" id="L152">			reader.close();</span>
<span class="fc" id="L153">			document.close();</span>
<span class="nc" id="L154">		}catch (IOException |DocumentException e)</span>
		{
<span class="nc" id="L156">			Logger.getLogger(&quot;read pdf daily&quot;).log(Level.SEVERE,&quot;daily not exists&quot;,e);</span>
<span class="fc" id="L157">		}</span>

<span class="fc" id="L159">	}</span>

	@Override
	public void scarica(int i)  {

<span class="fc" id="L164">		scaricaGiornale();</span>

<span class="fc" id="L166">	}</span>

	private void scaricaGiornale()
	{
<span class="fc" id="L170">		Document document=new Document();</span>
		try{
<span class="fc" id="L172">			PdfWriter writer=PdfWriter.getInstance(document,new FileOutputStream(rbTitoli.getString(DSTPATH)+rbTitoli.getString(TITOLOG)));</span>
<span class="fc" id="L173">			document.open();</span>
<span class="fc" id="L174">			document.addTitle(&quot;Giornale &quot;);</span>
<span class="fc" id="L175">			document.add(new Paragraph(&quot;&quot;&quot;</span>
                    Giornale/Daily not avalaible.
                    Integer et semper purus,non finibus augue
                    Interpellates habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas.
                    Praesent et tincidunt eros.Nunc malesuada ipsum non leo scelerisque molestie.
                    Sed sit amet finibus nulla id ultrices diam.Vestibulum mollis ante eros,vitae accumsan ex lacinia
                    nec.
                    Sed tellus eros, tincidunt eu odio ac, tempor viverra libero.Maecenas id arcu laoreet, tristique felis
                    sit amet,blandit nulla.
                    Maecenas id arcu laoreet, tristique felis sit amet,blandit nulla.Phasellus suscipit sed est ut
                    molestie.
                    Maecenas consequat elit diam, eu semper erat porta nec.Etiam ullamcorper neque vitae mollis
                    cursus.&quot;&quot;&quot;
			));
<span class="fc" id="L189">			readPdf();</span>
<span class="fc" id="L190">			document.close();</span>
<span class="fc" id="L191">			writer.close();</span>




<span class="nc" id="L196">		}catch (DocumentException | IOException e)</span>
		{
<span class="nc" id="L198">			Logger.getLogger(&quot;create pdf daily&quot;).log(Level.SEVERE,&quot;pdf daily not created&quot;);</span>
<span class="fc" id="L199">		}</span>
<span class="fc" id="L200">	}</span>

	@Override
	public void leggi(int i)  {
<span class="pc bpc" id="L204" title="1 of 2 branches missed.">		if (Desktop.isDesktopSupported()) {</span>
<span class="fc" id="L205">			new Thread(() -&gt; {</span>
				try {
<span class="fc" id="L207">					Desktop.getDesktop().open(new File(rbTitoli.getString(DSTPATH)+rbTitoli.getString(TITOLOG)));</span>
<span class="nc" id="L208">				} catch (IOException e) {</span>
<span class="pc" id="L209">					Logger.getLogger(&quot;open file&quot;).log(Level.SEVERE, &quot;open error&quot;);				}</span>
<span class="fc" id="L210">			}).start();</span>
		}

<span class="fc" id="L213">	}</span>

	public String[] getInfoGenerali() {
<span class="fc" id="L216">		return infoGenerali;</span>
	}

	public void setInfoGenerali(String[] infoGenerali) {
<span class="fc" id="L220">		this.infoGenerali = infoGenerali;</span>
<span class="fc" id="L221">	}</span>


        public String getCategoria() {
<span class="fc" id="L225">            return categoria;</span>
        }

        public void setCategoria(String categoria) {
<span class="fc" id="L229">            this.categoria = categoria;</span>
<span class="fc" id="L230">        }</span>

		@Override
		public String toString() {
<span class="nc" id="L234">			return &quot;Giornale{&quot; +</span>
					&quot;titolo='&quot; + titolo + '\'' +
					&quot;, editore='&quot; + editore + '\'' +
					&quot;, id=&quot; + id +
					'}';
		}
	}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>